@{
    ViewBag.Title = "Movies";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model List<MovieListingDto>

<div class="section-header">
    <div class="container">
        <div class="row">

            <div class="col-lg-12">
                <h1 class="page-header">Movies</h1>
            </div>

        </div>
    </div> <!-- /.container -->
</div> <!-- /.section-colored -->

<div class="container container-int">

    <ol class="breadcrumb">
        <li><a href="index.html">Home</a></li>
        <li class="active">Movies</li>
    </ol>
    <div class="row">
        <div class="col-lg-3">
            <form class="ActivityForm">
                <h3 class="searchHeader">Select type:</h3>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" style="transform: scale(1.5);">
                    <label class="form-check-label" for="defaultCheck1" style="font-weight: normal;font-size: 18px;margin-left: 10px;">
                        Comedy
                    </label>
                </div>
                <div class="form-group">
                    <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" style="transform: scale(1.5);">
                    <label class="form-check-label" for="defaultCheck1" style="font-weight: normal;font-size: 18px;margin-left: 10px;">
                        Dram
                    </label>
                </div>


                <h3 class="searchHeader">Select place:</h3>
                <div class="form-group">
                    <select id="places" class="form-control">
                        <option value="aybu">AYBU</option>
                        <option value="odtu">ODTU</option>
                        <option value="gazi">GAZI UNI</option>
                        <option value="bilkent" selected>BILKENT</option>
                    </select>
                </div>
                <h3 class="searchHeader">Select date:</h3>
                <div class="form-group">

                    <input class="form-control" type="date" name="birthday" min="2018-04-01" max="2022-04-30" required>
                    <span class="validity"></span>
                </div>
                <div class="form-group">
                    <input class="btn btn-primary" type="submit" value="Apply Filter">
                </div>
            </form>

        </div>
        <div class="col-lg-9">
           <div class="row">
            @foreach (var item in Model)
            {
                <div class="col-md-4 col-sm-4 portfolio-item">
                    @{
                        var base64 = Convert.ToBase64String(item.MovieBanner!);
                        var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
                    }
                    <a href="/Movie/GetMovie/@item.MovieId" class="link-portfolio">
                        <div class="overlay-portfolio">
                            <h3>@item.MovieName</h3>
                            <h4>@(((DateTime)item.MovieVisionDate).ToString("dd-MMM-yyyy"))</h4>
                            
                            <small class="text-muted">
                                @item.MovieReview.Substring(0,item.MovieReview.Substring(0,130).LastIndexOf(" ")) ...
                            </small>
                            <h4>Click for Buy</h4>
                        </div><!-- /.overlay-portfolio -->
                        <img class="img-responsive img-home-portfolio" src="@imgSrc" alt="movie">
                        
                    </a>
                </div>

            }

           </div>     
        </div>
    </div>

</div><!-- /.container -->